<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox alignment="TOP_CENTER" spacing="15.0" style="-fx-background-color: #f4f4f4;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.pl2_project.EmployeePageController">

    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>

    <Label style="-fx-text-fill: #333333;" text="Employee DashBoard">
        <font>
            <Font size="22.0" />
        </font>
    </Label>
    <Separator />

    <TitledPane animated="false" collapsible="false" text="Clock In/Out &amp; Working Hours Calculation">
        <VBox spacing="10.0" style="-fx-padding: 10;">
            <HBox alignment="CENTER_LEFT" spacing="10.0">
                <Button fx:id="btnClockIn" onAction="#handleClockAction" text="Clock In Now" />
                <Button fx:id="btnClockOut" onAction="#handleClockAction" text="Clock Out Now" />
                <Label fx:id="lblCurrentStatus" style="-fx-font-weight: bold; -fx-text-fill: #007bff;" text="Status: Logged Out" HBox.hgrow="ALWAYS" />
            </HBox>
            <Label text="Monthly Attendance Record:" />
            <TableView fx:id="attendanceTable" prefHeight="150.0">
                <columns>
                    <TableColumn fx:id="colInTime" prefWidth="263.20003068447113" text="Clock In" />
                    <TableColumn fx:id="colOutTime" prefWidth="287.9999694824219" text="Clock Out" />
                    <TableColumn fx:id="colDailyHours" prefWidth="115.20001220703125" text="Hours Worked" />
                </columns>
            </TableView>
        </VBox>
    </TitledPane>

    <TitledPane animated="false" collapsible="false" text="Assigned Tasks (View &amp; Complete)">
        <VBox prefHeight="425.0" prefWidth="977.0" spacing="10.0" style="-fx-padding: 10;">
            <Label text="Select the task when it is finished:" />
         <ComboBox fx:id="availTasks" prefWidth="150.0" promptText="Tasks" />
         <Button fx:id="btnFinishTask" mnemonicParsing="false" onAction="#handleFinishTaskAction" prefHeight="26.0" prefWidth="149.0" text="Finish Task" />
            <TableView fx:id="tasksTable" prefHeight="406.0" prefWidth="930.0">
                <columns>
                    <TableColumn fx:id="colTaskId" prefWidth="113.59997117519379" text="Task Id" />
                    <TableColumn fx:id="colTaskName" prefWidth="128.80005645751953" text="Task Name" />
                    <TableColumn fx:id="colProject" prefWidth="132.8000030517578" text="Project" />
                    <TableColumn fx:id="colDueDate" prefWidth="217.59994506835938" text="Due Date" />
               <TableColumn fx:id="colCompleted" prefWidth="84.7999267578125" text="Completed" />
                </columns>
            </TableView>
        </VBox>
    </TitledPane>

    <HBox spacing="15" VBox.vgrow="ALWAYS">
        <TitledPane animated="false" collapsible="false" text="Request Vacation" HBox.hgrow="ALWAYS">
            <VBox spacing="8.0" style="-fx-padding: 10;">
                <Label text="Start Date:" />
                <DatePicker fx:id="dpStartDate" />
                <Label text="End Date:" />
                <DatePicker fx:id="dpEndDate" />
                <Label text="Reason:" />
                <TextArea fx:id="txtVacationReason" prefRowCount="3" wrapText="true" />
                <Button fx:id="btnSubmit" onAction="#handleVacationAction" text="Submit Request" />
            </VBox>
        </TitledPane>

        <TitledPane animated="false" collapsible="false" text="View Penalties" HBox.hgrow="ALWAYS">
            <VBox spacing="10.0" style="-fx-padding: 10;">
                <Label text="Recorded Penalties:" />
                <TableView fx:id="penaltiesTable" prefHeight="170.0">
                    <columns>
                        <TableColumn fx:id="colPenaltyDate" prefWidth="100.0" text="Date" />
                        <TableColumn fx:id="colPenaltyReason" prefWidth="219.19995880126953" text="Reason" />
                    </columns>
                </TableView>
            </VBox>
        </TitledPane>
    </HBox>

</VBox>
